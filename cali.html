<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dialogue Box Typing Effect</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    background: url("https://images.unsplash.com/photo-1507525428034-b723cf961d3e") center/cover no-repeat;
    font-family: sans-serif;
    overflow: hidden;
  }

  .dialogue-container {
    position: relative;
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    width: 90%;
    max-width: 1000px;
    margin-bottom: 50px;
  }

  .dialogue-box {
    flex: 1;
    padding: 20px 60px 20px 20px;
    border-radius: 16px;
    color: white;
    font-size: 1.2rem;
    line-height: 1.4;
    backdrop-filter: blur(8px);
    background: rgba(0, 0, 0, 0.55);
    min-height: 100px;
    position: relative;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
  }

  .character {
    margin-left: 30px;
    max-height: 320px;
    object-fit: contain;
    filter: drop-shadow(0 0 10px rgba(0,0,0,0.5));
    background: transparent;
  }

  .cursor {
    display: inline-block;
    width: 10px;
    background: white;
    animation: blink 0.7s steps(1) infinite;
    margin-left: 2px;
  }

  @keyframes blink {
    50% { background: transparent; }
  }

  .next-arrow {
    position: absolute;
    bottom: 10px;
    right: 15px;
    font-size: 1.5rem;
    cursor: pointer;
    user-select: none;
    animation: bounce 1s infinite;
  }

  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
  }
</style>
</head>
<body>

  <div class="dialogue-container">
    <div class="dialogue-box">
      <p id="dialogue"></p><span class="cursor"></span>
      <div class="next-arrow" id="nextBtn">▶</div>
    </div>
    <img src="https://i.imgur.com/4AiXzf8.png" alt="Character" class="character">
  </div>

<script>
  const dialogues = [
    "Our next run—USS California. Anchored alone near the shore.",
    "She’s already seen the others burn. I can see crew scrambling to man the guns.",
    "Dive! Bomb away!",
    "The blast rocks her deck. Flames crawl over the surface.",
    "A torpedo hits her side. The water rushes in.",
    "She’s sinking slowly... refusing to give up.",
    "Some of the men keep fighting, even as the deck disappears.",
    "California slips beneath the harbor. Quietly. Stubbornly.",
    "I whisper to myself... 'forgive us.'",
    "History will remember this day—but not the faces I saw."
  ];

  let dialogueIndex = 0;
  let charIndex = 0;
  const dialogueEl = document.getElementById("dialogue");
  const cursor = document.querySelector(".cursor");

  function typeText() {
    if (charIndex < dialogues[dialogueIndex].length) {
      dialogueEl.innerHTML += dialogues[dialogueIndex].charAt(charIndex);
      charIndex++;
      setTimeout(typeText, 60);
    }
  }

  function nextDialogue() {
    if (charIndex < dialogues[dialogueIndex].length) {
      dialogueEl.innerHTML = dialogues[dialogueIndex];
      charIndex = dialogues[dialogueIndex].length;
      return;
    }

    if (dialogueIndex < dialogues.length - 1) {
      dialogueIndex++;
      charIndex = 0;
      dialogueEl.innerHTML = "";
      typeText();
    } else {
      cursor.style.display = "none";
      document.getElementById("nextBtn").style.display = "none";
    }
  }

  window.onload = typeText;
  document.getElementById("nextBtn").addEventListener("click", nextDialogue);

  document.addEventListener("keydown", (e) => {
    if (e.code === "Space") {
      e.preventDefault();
      nextDialogue();
    }
  });
</script>

</body>
</html>
